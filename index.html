<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kasahara</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Averia+Serif+Libre:ital,wght@1,300&display=swap" rel="stylesheet">
    <style>
       @font-face {
          font-family: 'Alte Haas Grotesk Bold';
          src: url('fonts/AlteHaasGroteskBold.ttf') format('truetype');
          font-weight: bold;
       }
       
       /* Override flicker-overlay styles to ensure they work */
       .flicker-overlay {
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: #000;
           pointer-events: none;
           z-index: 20000;
           opacity: 0;
           /* Remove transition for more abrupt flickering */
       }
       
       /* Increase film grain opacity */
       .film-grain {
           opacity: 0.25 !important;
       }
    </style>
</head>
<body>
    <div class="film-grain"></div>
    <div class="flicker-overlay"></div>
    <div class="container">
        <header>
            <!-- Logo removed -->
            <button class="menu-toggle" aria-label="Open menu">MENU</button>
        </header>

        <div class="menu">
            <button class="menu-close" aria-label="Close menu">X</button>
            <ul>
                <li><a href="index.html">HOME</a></li>
                <li><a href="#">PROJECTS</a></li>
                <li><a href="#">SHORTS</a></li>
                <li><a href="#">COLLECTION</a></li>
                <li><a href="#">SHOP</a></li>
                <li><a href="#">CONTACT</a></li>
            </ul>
        </div>

        <section class="hero">
            <h1>Kasahara</h1>
            <p>Pushing The Boundaries Of Creativity</p>
        </section>

        <div class="marquee">
            <div class="marquee-content">
                <span>UNDEFINED</span>
                <span>ALWAYS STRIVE AND PROSPER</span>
                <span>TESTING</span>
                <span>CREATIVE COLLECTIVE</span>
                <span>LITTLE SPECKS</span>
                <span>ALWAYS STRIVE AND PROSPER</span>
                <span>TESTING</span>
                <span>CREATIVE COLLECTIVE</span>
            </div>
        </div>

        <section class="featured">
            <h2>FEATURED PROJECTS</h2>
            <div class="projects">
                <div class="project">
                    <img src="assets/pic1.png" alt="Project 1">
                    <div class="project-info">
                        <h3>PROJECT TITLE</h3>
                        <p>Creative direction and visual identity</p>
                    </div>
                </div>
                <div class="project">
                    <img src="/placeholder.svg?height=400&width=300" alt="Project 2">
                    <div class="project-info">
                        <h3>SHORT FILM</h3>
                        <p>Direction and production</p>
                    </div>
                </div>
                <div class="project">
                    <img src="/placeholder.svg?height=400&width=300" alt="Project 3">
                    <div class="project-info">
                        <h3>FASHION COLLECTION</h3>
                        <p>Design and creative direction</p>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <p>Â© 2025 KASAHARA.INC. ALL RIGHTS RESERVED.</p>
            <div class="social-links">
                <a href="#">INSTAGRAM</a>
                <a href="#">TIKTOK</a>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded - initializing effects');
            
            // Menu functionality
            const menuToggle = document.querySelector('.menu-toggle');
            const menuClose = document.querySelector('.menu-close');
            const menu = document.querySelector('.menu');

            menuToggle.addEventListener('click', function() {
                menu.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            menuClose.addEventListener('click', function() {
                menu.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            // Marquee functionality
            const marqueeContent = document.querySelector('.marquee-content');
            marqueeContent.innerHTML += marqueeContent.innerHTML;

            // Project hover effects
            const projects = document.querySelectorAll('.project');
            projects.forEach(project => {
                project.addEventListener('mouseenter', function() {
                    this.querySelector('.project-info').style.transform = 'translateY(0)';
                });

                project.addEventListener('mouseleave', function() {
                    this.querySelector('.project-info').style.transform = 'translateY(100%)';
                });
            });
            
            // Enhanced flickering effect
            const flickerOverlay = document.querySelector('.flicker-overlay');
            console.log('Flicker overlay element:', flickerOverlay);
            
            // Test if overlay is visible at all
            flickerOverlay.style.opacity = 1;
            console.log('Setting initial opacity to 1 for testing');
            
            setTimeout(() => {
                flickerOverlay.style.opacity = 0;
                console.log('Reset opacity to 0 after test');
                
                // Start the real flickering effect
                startFlickering();
            }, 1000);
            
            function startFlickering() {
                console.log('Starting flickering effect');
                
                function flicker() {
                    // Higher intensity for better visibility
                    const intensity = 0.3 + Math.random() * 0.4; // Between 0.3 and 0.7
                    console.log('Flicker with intensity:', intensity);
                    
                    // Apply flicker
                    flickerOverlay.style.opacity = intensity;
                    
                    // Shorter duration for more abrupt effect
                    const duration = 30 + Math.random() * 100;
                    
                    setTimeout(() => {
                        flickerOverlay.style.opacity = 0;
                        
                        // Shorter delay between flickers
                        const delay = 800 + Math.random() * 3000;
                        setTimeout(flicker, delay);
                    }, duration);
                }
                
                // Start immediately
                flicker();
                
                // Add occasional stronger flickers
                setInterval(() => {
                    if (Math.random() > 0.6) { // 40% chance
                        const strongIntensity = 0.5 + Math.random() * 0.5; // Between 0.5 and 1.0
                        console.log('Strong flicker with intensity:', strongIntensity);
                        
                        flickerOverlay.style.opacity = strongIntensity;
                        
                        setTimeout(() => {
                            flickerOverlay.style.opacity = 0;
                        }, 50 + Math.random() * 80);
                    }
                }, 2000);
            }
        });
    </script>
</body>
</html>